<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Seleccione un puesto</title>
  <link rel="stylesheet" href="../layout-components.css" />
</head>
<body>
  <div id="main">
    <!-- Botón hamburguesa -->
    <button id="menuToggle" aria-label="Abrir menú" class="menu-btn" type="button">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>

    <!-- Visual Preferences Button -->
    <div class="settings-dropdown">
      <button id="settingsToggle" class="visual-preferences-btn" aria-label="Visual Preferences">
        🎨 Visual Preferences
      </button>
      <div id="settingsMenu" class="settings-menu">
        <ul>
          <li><button id="openPreferences">Preferencias Visuales</button></li>
          <li><button id="resetSettings">Restablecer</button></li>
        </ul>
      </div>
    </div>

    <img src="assets/logo-fondo-blanco.jpg" alt="Ottech ARG" class="logo" />
       <!-- Tabla de remitos en contenido principal -->
    <div class="table-container"> 
  <table id="remitosTable">
    <!-- Colgroup para definir ancho máximo de columnas -->
    <thead>
      <tr>
        <th>Remito</th>
        <th>Fecha</th>
        <th>Cod. Cliente</th>
        <th>Razón Social</th>
        <th>Firmado</th>
        <th class="action-col"></th>
      </tr>
      <tr id="filterRow">
        <th><input type="search" placeholder="Buscar Remito" class="filter-input" data-col="0" /></th>
        <th><input type="search" placeholder="Buscar Fecha" class="filter-input" data-col="1" /></th>
        <th><input type="search" placeholder="Buscar Código" class="filter-input" data-col="2" /></th>
        <th><input type="search" placeholder="Buscar Razón" class="filter-input" data-col="3" /></th>
        <th><input type="search" placeholder="Buscar Firmado" class="filter-input" data-col="4" /></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <!-- Filas dinámicas -->
    </tbody>
  </table>
</div>

    <!-- Menú lateral oculto que ahora incluye TODO el contenido que quieres mostrar -->
    <nav id="sideMenu" class="side-menu" aria-label="Menú lateral">
      <div id="formContainer">
           <div id="fixedFields">
              <!-- Campo fijo "Remitos desde" -->
              <div id="divFechaDesde" style="position: relative;">
                <input 
                  type="date" 
                  id="fechaDesde" 
                  name="fechaDesde" 
                  class="input-box" 
                  placeholder="Remitos desde"
                />
              </div>
            </div>
      <div class="form-container">
        <div id="searchContainer"class="input-wrapper">
          <input
            type="text"
            id="searchInput"
            class="input-box"
            placeholder="Seleccione un puesto..."
            autocomplete="off"
          />
          <ul id="suggestionsList" class="suggestions-list" style="display: none;"></ul>
        </div>

        

            <div id="dynamicFields">
              <!-- Campos dinámicos según puesto -->
            </div>
          <!-- contenido dinámico -->
        </div>

        
      </div>
      
    </nav>

  </div>

  <!-- Preferences Modal -->
  <div id="preferencesModal" class="preferences-modal">
    <div class="preferences-content">
      <div class="preferences-header">
        <h2>🎨 Visual Preferences</h2>
        <button id="closePreferences" class="close-btn">×</button>
      </div>

      <!-- Theme Colors Section -->
      <div class="preference-section">
        <h3>🎨 Colores del Tema</h3>
        <div class="color-grid" id="colorThemes">
          <div class="color-option selected" data-theme="default" style="background: linear-gradient(45deg, #003e7e, #1c5fbf)" title="Azul Ottech (Por defecto)"></div>
          <div class="color-option" data-theme="emerald" style="background: linear-gradient(45deg, #065f46, #10b981)" title="Verde Esmeralda"></div>
          <div class="color-option" data-theme="purple" style="background: linear-gradient(45deg, #581c87, #8b5cf6)" title="Púrpura Elegante"></div>
          <div class="color-option" data-theme="orange" style="background: linear-gradient(45deg, #c2410c, #f97316)" title="Naranja Vibrante"></div>
          <div class="color-option" data-theme="rose" style="background: linear-gradient(45deg, #be185d, #f43f5e)" title="Rosa Moderno"></div>
          <div class="color-option" data-theme="slate" style="background: linear-gradient(45deg, #374151, #6b7280)" title="Gris Profesional"></div>
        </div>
      </div>

      <!-- Background Section -->
      <div class="preference-section">
        <h3>🖼️ Fondo</h3>
        <div class="color-grid" id="backgroundOptions">
          <div class="color-option" data-bg="white" style="background: #ffffff; border: 2px solid #ddd;" title="Blanco"></div>
          <div class="color-option" data-bg="light-gray" style="background: #f8fafc;" title="Gris Claro"></div>
          <div class="color-option" data-bg="blue-gradient" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);" title="Degradado Azul"></div>
          <div class="color-option" data-bg="sunset" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);" title="Atardecer"></div>
          <div class="color-option" data-bg="forest" style="background: linear-gradient(135deg, #134e5e 0%, #71b280 100%);" title="Bosque"></div>
          <div class="color-option" data-bg="ocean" style="background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);" title="Océano"></div>
        </div>
        <div style="margin-top: var(--space-md);">
          <label class="file-input-wrapper">
            📁 Subir imagen personalizada
            <input type="file" id="backgroundUpload" accept="image/*">
          </label>
        </div>
      </div>

      <!-- Logo Section -->
      <div class="preference-section">
        <h3>🏢 Logo de la Empresa</h3>
        <div>
          <img id="currentLogo" src="assets/logo-fondo-blanco.jpg" alt="Logo actual" class="current-logo">
        </div>
        <div style="margin-top: var(--space-md);">
          <label class="file-input-wrapper">
            📁 Cambiar logo
            <input type="file" id="logoUpload" accept="image/*">
          </label>
        </div>
        <div style="margin-top: var(--space-sm);">
          <button id="resetLogo" style="background: #dc3545; color: white; border: none; padding: var(--space-sm); border-radius: var(--border-radius-sm); cursor: pointer;">
            🔄 Usar logo por defecto
          </button>
        </div>
      </div>

      <!-- Save Section -->
      <div class="preference-section">
        <button id="savePreferences" style="width: 100%; background: var(--theme-primary); color: white; border: none; padding: var(--space-md); border-radius: var(--border-radius); cursor: pointer; font-size: 1rem;">
          💾 Guardar Preferencias
        </button>
      </div>
    </div>
  </div>

  <script type="module" src="/lib/signMain.js"></script>
  <script type="module" src="/lib/PreferencesHandler.js"></script>
</body>
</html>